<!DOCTYPE html>
<html lang="zxx">

<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <!-- bootstrap grid css -->
    <link rel="stylesheet" href="css/plugins/bootstrap-grid.css">
    <link rel="stylesheet" href="css/plugins/font-awesome.min.css">
    <!-- swiper css -->
    <link rel="stylesheet" href="css/plugins/swiper.min.css">
    <!-- fancybox css -->
    <link rel="stylesheet" href="css/plugins/fancybox.min.css">
    <link rel="stylesheet" href="css/portfolio_website.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="./css/portfolioWebsite.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
        integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://cdn.jsdelivr.net/npm/remixicon/fonts/remixicon.css" rel="stylesheet">
    <link rel="stylesheet" href="css/bulb.css">
    <link rel="stylesheet" href="css/footer_theme.css">

    <!-- page name -->
    <title>Dev N Desk</title>

</head>
<style>
    canvas {
        position: relative;
        inset: 0;
        width: 100%;
        min-height: 500px;
        background-color: white;
    }
</style>

<body>

    <!-- wrapper -->
    <div class="mil-wrapper" id="top">

        <!-- cursor -->
        <div class='cursor' id="cursor"></div>
        <div class='cursor2' id="cursor2"></div>
        <div class='cursor3' id="cursor3"></div>
        <!-- cursor end -->

        <!-- preloader -->
        <div class="loader-wrap" id="loader">
            <div class="preloader">
                <div id="handle-preloader" class="handle-preloader">
                    <div class="main-loaderBox">
                        <div class='tetrominos'>
                            <div class='tetromino box1'></div>
                            <div class='tetromino box2'></div>
                            <div class='tetromino box3'></div>
                            <div class='tetromino box4'></div>
                        </div>
                        <div id="container">
                            <div class="divider" aria-hidden="true"></div>
                            <p class="loading-text" aria-label="Loading">
                                <span class="letter" aria-hidden="true">L</span>
                                <span class="letter" aria-hidden="true">o</span>
                                <span class="letter" aria-hidden="true">a</span>
                                <span class="letter" aria-hidden="true">d</span>
                                <span class="letter" aria-hidden="true">i</span>
                                <span class="letter" aria-hidden="true">n</span>
                                <span class="letter" aria-hidden="true">g</span>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- preloader end -->

        <!-- scrollbar progress -->
        <div class="mil-progress-track">
            <div class="mil-progress"></div>
        </div>
        <!-- scrollbar progress end -->

        <div id="headerPlaceholder"></div>

        <!-- content -->
        <div class="mil-content" style="background-color: black;">
            <div id="swupMain" class="mil-main-transition">

                <!-- banner -->
                <div class="mil-inner-banner">
                    <div class="mil-banner-content mil-up">
                        <div class="mil-animation-frame">
                            <div class="mil-animation mil-position-4 mil-dark mil-scale" data-value-1="6"
                                data-value-2="1.4"></div>
                        </div>
                        <div class="container-fluid">
                            <!-- <ul class="mil-breadcrumbs mil-mb-60">
                                <li><a href="home-1.html">Homepage</a></li>
                                <li><a href="portfolio-1.html">Portfolio</a></li>
                            </ul> -->
                            <!-- <h1 class="mil-mb-60">Designing a <br> Better <span class="mil-thin">World Today</span></h1> -->
                            <!-- <a href="#portfolio" class="mil-link mil-dark mil-arrow-place mil-down-arrow">
                                <span>Our works</span>
                            </a> -->
                            <div class="">
                                <canvas></canvas>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- banner end -->
                <div class="container-fluid">
                    <div class="row centered">

                        <div class="col-12 col-md-6 card border-left-behind">
                            <div class="shadow" id="shadow_img_1"></div>
                            <div class="image background" id="bg-img-1">
                            </div>
                            <div class="image cutout" id="cutout_img_1"></div>
                            <div class="content">
                                <h2>Hover me!</h2>
                                <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit.</p>
                            </div>
                        </div>

                        <div class="col-12 col-md-6 card border-right-behind border-bottom-behind">
                            <div class="shadow" id="shadow_img_2"></div>
                            <div class="image background" id="bg-img-2">
                            </div>
                            <div class="image cutout" id="cutout_img_2"></div>
                            <div class="content">
                                <h2>Hover me!</h2>
                                <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit.</p>
                            </div>
                        </div>

                        <div class="col-12 col-md-6 card border-left-behind">
                            <div class="shadow" id="shadow_img_3"></div>
                            <div class="image background" id="bg-img-3">
                            </div>
                            <div class="image cutout" id="cutout_img_3"></div>
                            <div class="content">
                                <h2>Hover me!</h2>
                                <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit.</p>
                            </div>
                        </div>



                    </div>

                </div>

                <footer>
                    <div class="grax_tm_section mil-dark">
                        <div class="grax_tm_copyright ">
                            <div class="my_wave">
                                <svg width="100%" height="100%" version="1.1" xmlns="http://www.w3.org/2000/svg">
                                    <defs></defs>
                                    <path id="wave_img" data-color="#000"
                                        d="M 0 185.609 C 317.16666666666663 118.136 317.16666666666663 118.136 634.3333333333333 151.87 C 951.4999999999999 185.609 951.4999999999999 185.609 1268.6666666666665 116.402 C 1585.833333333333 47.195 1585.833333333333 47.195 1903 131.925 L 1903 507 L 0 507 Z"
                                        fill="#000"></path>
                                </svg>
                            </div>
                            <div class="container mil-p-120-60">
                                <div class="row justify-content-between">
                                    <div class="col-md-4 col-lg-4 mil-mb-60">

                                        <div class="mil-muted mil-logo mil-up mil-mb-30 footer-text">Ashley.</div>

                                        <p class="mil-light-soft mil-up mil-mb-30 footer-text">Subscribe our newsletter:
                                        </p>

                                        <form class="mil-subscribe-form mil-up">
                                            <input type="text" placeholder="Enter our email">
                                            <button type="submit"
                                                class="mil-button mil-icon-button-sm mil-arrow-place"></button>
                                        </form>

                                    </div>
                                    <div class="col-md-7 col-lg-6">
                                        <div class="row justify-content-end">
                                            <div class="col-md-6 col-lg-7">

                                                <nav class="mil-footer-menu mil-mb-60">
                                                    <ul>
                                                        <li class="mil-up mil-active">
                                                            <a href="home-1.html">Home</a>
                                                        </li>
                                                        <li class="mil-up">
                                                            <a href="portfolio-1.html">Portfolio</a>
                                                        </li>
                                                        <li class="mil-up">
                                                            <a href="services.html">Services</a>
                                                        </li>
                                                        <li class="mil-up">
                                                            <a href="contact.html">Contact</a>
                                                        </li>
                                                        <li class="mil-up">
                                                            <a href="blog.html">Blog</a>
                                                        </li>
                                                    </ul>
                                                </nav>

                                            </div>
                                            <div class="col-md-6 col-lg-5">

                                                <ul class="mil-menu-list mil-up mil-mb-60">
                                                    <li><a href="#." class="mil-light-soft footer-text-soft">Privacy
                                                            Policy</a></li>
                                                    <li><a href="#." class="mil-light-soft footer-text-soft">Terms and
                                                            conditions</a>
                                                    </li>
                                                    <li><a href="#." class="mil-light-soft footer-text-soft">Cookie
                                                            Policy</a></li>
                                                    <li><a href="#." class="mil-light-soft footer-text-soft">Careers</a>
                                                    </li>
                                                </ul>

                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row justify-content-between flex-sm-row-reverse">
                                    <div class="col-md-7 col-lg-6">

                                        <div class="row justify-content-between">

                                            <div class="col-md-6 col-lg-5 mil-mb-60">

                                                <h6 class="mil-muted mil-up mil-mb-30 footer-text">Canada</h6>

                                                <p class="mil-light-soft mil-up footer-text-soft">71 South Los Carneros
                                                    Road,
                                                    California <span class="mil-no-wrap">+51 174 705 812</span></p>

                                            </div>
                                            <div class="col-md-6 col-lg-5 mil-mb-60">

                                                <h6 class="mil-muted mil-up mil-mb-30 footer-text">Germany</h6>

                                                <p class="mil-light-soft mil-up footer-text-soft">Leehove 40, 2678 MC De
                                                    Lier,
                                                    Netherlands <span class="mil-no-wrap">+31 174 705 811</span></p>

                                            </div>
                                        </div>

                                    </div>
                                    <div class="col-md-4 col-lg-6 mil-mb-60">

                                        <div class="mil-vert-between">
                                            <div class="mil-mb-30">
                                                <ul class="mil-social-icons mil-up">
                                                    <li><a href="#." target="_blank" class="social-icon footer-text">
                                                        <i class="fab fa-facebook-f"></i> <!-- Facebook Icon -->
                                                    </a></li>
                                                    <li><a href="#." target="_blank" class="social-icon footer-text">
                                                        <i class="fab fa-twitter"></i> <!-- Twitter Icon -->
                                                    </a></li>
                                                    <li><a href="#." target="_blank" class="social-icon footer-text">
                                                        <i class="fab fa-instagram"></i> <!-- Instagram Icon -->
                                                    </a></li>
                                                    <li><a href="#." target="_blank" class="social-icon footer-text">
                                                        <i class="fab fa-linkedin-in"></i> <!-- LinkedIn Icon -->
                                                    </a></li>
                                                </ul>
                                            </div>
                                            <p class="mil-light-soft mil-up footer-text-soft">Â© Copyright 2023 - Mil.
                                                All Rights
                                                Reserved.</p>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </footer>

                <!-- hidden elements -->
                <div class="mil-hidden-elements">
                    <div class="mil-dodecahedron">
                        <div class="mil-pentagon">
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                        </div>
                        <div class="mil-pentagon">
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                        </div>
                        <div class="mil-pentagon">
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                        </div>
                        <div class="mil-pentagon">
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                        </div>
                        <div class="mil-pentagon">
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                        </div>
                        <div class="mil-pentagon">
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                        </div>
                        <div class="mil-pentagon">
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                        </div>
                        <div class="mil-pentagon">
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                        </div>
                        <div class="mil-pentagon">
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                        </div>
                        <div class="mil-pentagon">
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                        </div>
                        <div class="mil-pentagon">
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                        </div>
                        <div class="mil-pentagon">
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                        </div>
                    </div>

                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="mil-arrow">
                        <path
                            d="M 14 5.3417969 C 13.744125 5.3417969 13.487969 5.4412187 13.292969 5.6367188 L 13.207031 5.7226562 C 12.816031 6.1136563 12.816031 6.7467188 13.207031 7.1367188 L 17.070312 11 L 4 11 C 3.448 11 3 11.448 3 12 C 3 12.552 3.448 13 4 13 L 17.070312 13 L 13.207031 16.863281 C 12.816031 17.254281 12.816031 17.887344 13.207031 18.277344 L 13.292969 18.363281 C 13.683969 18.754281 14.317031 18.754281 14.707031 18.363281 L 20.363281 12.707031 C 20.754281 12.316031 20.754281 11.682969 20.363281 11.292969 L 14.707031 5.6367188 C 14.511531 5.4412187 14.255875 5.3417969 14 5.3417969 z" />
                    </svg>

                    <svg width="250" viewBox="0 0 300 1404" fill="none" xmlns="http://www.w3.org/2000/svg"
                        class="mil-lines">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M1 892L1 941H299V892C299 809.71 232.29 743 150 743C67.7096 743 1 809.71 1 892ZM0 942H300V892C300 809.157 232.843 742 150 742C67.1573 742 0 809.157 0 892L0 942Z"
                            class="mil-move" />
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M299 146V97L1 97V146C1 228.29 67.7096 295 150 295C232.29 295 299 228.29 299 146ZM300 96L0 96V146C0 228.843 67.1573 296 150 296C232.843 296 300 228.843 300 146V96Z"
                            class="mil-move" />
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M299 1H1V1403H299V1ZM0 0V1404H300V0H0Z" />
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M150 -4.37115e-08L150 1404L149 1404L149 0L150 -4.37115e-08Z" />
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M150 1324C232.29 1324 299 1257.29 299 1175C299 1092.71 232.29 1026 150 1026C67.7096 1026 1 1092.71 1 1175C1 1257.29 67.7096 1324 150 1324ZM150 1325C232.843 1325 300 1257.84 300 1175C300 1092.16 232.843 1025 150 1025C67.1573 1025 0 1092.16 0 1175C0 1257.84 67.1573 1325 150 1325Z"
                            class="mil-move" />
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M300 1175H0V1174H300V1175Z" class="mil-move" />
                        <path fill-rule="evenodd" clip-rule="evenodd"
                            d="M150 678C232.29 678 299 611.29 299 529C299 446.71 232.29 380 150 380C67.7096 380 1 446.71 1 529C1 611.29 67.7096 678 150 678ZM150 679C232.843 679 300 611.843 300 529C300 446.157 232.843 379 150 379C67.1573 379 0 446.157 0 529C0 611.843 67.1573 679 150 679Z"
                            class="mil-move" />
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M299 380H1V678H299V380ZM0 379V679H300V379H0Z"
                            class="mil-move" />
                    </svg>
                </div>
                <!-- hidden elements end -->

            </div>
        </div>
        <!-- content -->
    </div>
    <!-- wrapper end -->


</body>

</html>
<script src="js/plugins/jquery.min.js"></script>
<!-- swup js -->
<script src="js/plugins/swup.min.js"></script>
<!-- swiper js -->
<script src="js/plugins/swiper.min.js"></script>
<!-- fancybox js -->
<script src="js/plugins/fancybox.min.js"></script>
<!-- gsap js -->
<script src="js/plugins/gsap.min.js"></script>
<!-- scroll smoother -->
<script src="js/plugins/smooth-scroll.js"></script>
<!-- scroll trigger js -->
<script src="js/plugins/ScrollTrigger.min.js"></script>
<!-- scroll to js -->
<script src="js/plugins/ScrollTo.min.js"></script>
<script src="js/plugins.js"></script>
<script src="js/main.js"></script>
<script src="js/portfolio_JS/swiper.js"></script>
<script src="js/portfolio_JS/splitting.js"></script>
<script src="js/portfolio_JS/scroll-out.js"></script>
<script type="module" src="js/bulb.js"></script>
<script>
    const angle = 15;

    const lerp = (start, end, amount) => {
        return (1 - amount) * start + amount * end;
    };

    const remap = (value, oldMax, newMax) => {
        const newValue = ((value + oldMax) * (newMax * 2)) / (oldMax * 2) - newMax;
        return Math.min(Math.max(newValue, -newMax), newMax);
    };

    window.addEventListener("DOMContentLoaded", (event) => {
        const cards = document.querySelectorAll(".card");

        cards.forEach((e) => {
            e.addEventListener("mousemove", (event) => {
                const rect = e.getBoundingClientRect();
                const centerX = (rect.left + rect.right) / 2;
                const centerY = (rect.top + rect.bottom) / 2;
                const posX = event.clientX - centerX;  // Use clientX for better accuracy
                const posY = event.clientY - centerY;  // Use clientY for better accuracy
                const x = remap(posX, rect.width / 2, angle);
                const y = remap(posY, rect.height / 2, angle);
                e.dataset.rotateX = x;
                e.dataset.rotateY = -y;
            });

            e.addEventListener("mouseout", () => {
                e.dataset.rotateX = 0;
                e.dataset.rotateY = 0;
            });
        });

        const update = () => {
            cards.forEach((e) => {
                let currentX = parseFloat(e.style.getPropertyValue('--rotateY')) || 0;
                let currentY = parseFloat(e.style.getPropertyValue('--rotateX')) || 0;
                const x = lerp(currentX, e.dataset.rotateX, 0.1);  // Smooth transition (increased lerp)
                const y = lerp(currentY, e.dataset.rotateY, 0.1);
                e.style.setProperty("--rotateY", x + "deg");
                e.style.setProperty("--rotateX", y + "deg");
                e.style.transform = `rotateX(${y}deg) rotateY(${x}deg)`;  // Directly apply transform
            });
        };

        setInterval(update, 1000 / 60);  // 60fps update for smooth animations
    });




    const canvas = document.querySelector("canvas");
    const gl = canvas.getContext("webgl");

    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    console.log(canvas.height)

    gl.viewport(0, 0, canvas.width, canvas.height);

    // Configurable parameters
    const config = {
        particleCount: 20000,
        textArray: ["Designing a\nBetter World Today", "Don't Design\na Better World"],  // Two lines for each text
        mouseRadius: 0.1,
        particleSize: 2,
        forceMultiplier: 0.001,
        returnSpeed: 0.005,
        velocityDamping: 0.95,
        colorMultiplier: 40000,
        saturationMultiplier: 1000,
        textChangeInterval: 10000,
        rotationForceMultiplier: 0.5
    };


    let currentTextIndex = 0;
    let nextTextTimeout;
    let textCoordinates = [];

    const mouse = {
        x: -500,
        y: -500,
        radius: config.mouseRadius
    };

    const particles = [];
    for (let i = 0; i < config.particleCount; i++) {
        particles.push({ x: 0, y: 0, baseX: 0, baseY: 0, vx: 0, vy: 0 });
    }

    const vertexShaderSource = `
    attribute vec2 a_position;
    attribute float a_hue;
    attribute float a_saturation;
    varying float v_hue;
    varying float v_saturation;
    void main() {
        gl_PointSize = ${config.particleSize.toFixed(1)};
        gl_Position = vec4(a_position, 0.0, 1.0);
        v_hue = a_hue;
        v_saturation = a_saturation;
    }
`;

    const fragmentShaderSource = `
    precision mediump float;
    varying float v_hue;
    varying float v_saturation;
    void main() {
        float c = v_hue * 6.0;
        float x = 1.0 - abs(mod(c, 2.0) - 1.0);
        vec3 color;
        if (c < 1.0) color = vec3(1.0, x, 0.0);
        else if (c < 2.0) color = vec3(x, 1.0, 0.0);
        else if (c < 3.0) color = vec3(0.0, 1.0, x);
        else if (c < 4.0) color = vec3(0.0, x, 1.0);
        else if (c < 5.0) color = vec3(x, 0.0, 1.0);
        else color = vec3(1.0, 0.0, x);
        vec3 finalColor = mix(vec3(1.0), color, v_saturation);
        gl_FragColor = vec4(finalColor, 1.0);
    }
`;

    function createShader(gl, type, source) {
        const shader = gl.createShader(type);
        gl.shaderSource(shader, source);
        gl.compileShader(shader);
        if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
            console.error(gl.getShaderInfoLog(shader));
            gl.deleteShader(shader);
            return null;
        }
        return shader;
    }

    function createProgram(gl, vertexShader, fragmentShader) {
        const program = gl.createProgram();
        gl.attachShader(program, vertexShader);
        gl.attachShader(program, fragmentShader);
        gl.linkProgram(program);
        if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {
            console.error(gl.getProgramInfoLog(program));
            gl.deleteProgram(program);
            return null;
        }
        return program;
    }

    const vertexShader = createShader(gl, gl.VERTEX_SHADER, vertexShaderSource);
    const fragmentShader = createShader(
        gl,
        gl.FRAGMENT_SHADER,
        fragmentShaderSource
    );
    const program = createProgram(gl, vertexShader, fragmentShader);

    const positionAttributeLocation = gl.getAttribLocation(program, "a_position");
    const hueAttributeLocation = gl.getAttribLocation(program, "a_hue");
    const saturationAttributeLocation = gl.getAttribLocation(
        program,
        "a_saturation"
    );

    const positionBuffer = gl.createBuffer();
    const hueBuffer = gl.createBuffer();
    const saturationBuffer = gl.createBuffer();

    const positions = new Float32Array(config.particleCount * 2);
    const hues = new Float32Array(config.particleCount);
    const saturations = new Float32Array(config.particleCount);


    function getTextCoordinates(text) {
        const ctx = document.createElement("canvas").getContext("2d");
        ctx.canvas.width = canvas.width;
        ctx.canvas.height = canvas.height;

        // Set the font size based on canvas dimensions
        const fontSize = Math.min(window.innerWidth / 15);

        ctx.font = `900 ${fontSize}px Arial`;
        ctx.fillStyle = "white";

        // Set horizontal alignment to center
        ctx.textAlign = "center";
        ctx.textBaseline = "middle"; // Vertically center the text

        // Split the text into multiple lines (using '\n' as the delimiter)
        const lines = text.split('\n');
        const lineHeight = fontSize * 1.2; // Adjust line height if needed

        // Calculate the total height to vertically center the lines
        const totalTextHeight = lineHeight * lines.length;
        const startingY = (canvas.height - totalTextHeight) / 2;

        // Draw each line of text, adjusting the y position
        lines.forEach((line, index) => {
            const yOffset = startingY + (index * lineHeight);
            ctx.fillText(line, canvas.width / 2, yOffset); // Center horizontally
        });

        // Get image data and calculate coordinates
        const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height).data;
        const coordinates = [];

        // Iterate through image data to find non-transparent pixels
        for (let y = 0; y < canvas.height; y += 4) {
            for (let x = 0; x < canvas.width; x += 4) {
                const index = (y * canvas.width + x) * 4;
                if (imageData[index + 3] > 128) { // Check for non-transparent pixels
                    coordinates.push({
                        x: (x / canvas.width) * 2 - 1,
                        y: (y / canvas.height) * -2 + 1
                    });
                }
            }
        }

        return coordinates;
    }




    function createParticles() {
        textCoordinates = getTextCoordinates(config.textArray[currentTextIndex]);
        for (let i = 0; i < config.particleCount; i++) {
            const randomIndex = Math.floor(Math.random() * textCoordinates.length);
            const { x, y } = textCoordinates[randomIndex];
            particles[i].x = particles[i].baseX = x;
            particles[i].y = particles[i].baseY = y;
        }
    }
    function updateParticles() {
        for (let i = 0; i < config.particleCount; i++) {
            const particle = particles[i];
            const dx = mouse.x - particle.x;
            const dy = mouse.y - particle.y;
            const distance = Math.sqrt(dx * dx + dy * dy);
            const forceDirectionX = dx / distance;
            const forceDirectionY = dy / distance;
            const maxDistance = mouse.radius;
            const force = (maxDistance - distance) / maxDistance;
            const directionX = forceDirectionX * force * config.forceMultiplier;
            const directionY = forceDirectionY * force * config.forceMultiplier;

            const angle = Math.atan2(dy, dx);

            const rotationForceX = Math.sin(
                -Math.cos(angle * -1) *
                Math.sin(config.rotationForceMultiplier * Math.cos(force)) *
                Math.sin(distance * distance) *
                Math.sin(angle * distance)
            );

            const rotationForceY = Math.sin(
                Math.cos(angle * 1) *
                Math.sin(config.rotationForceMultiplier * Math.sin(force)) *
                Math.sin(distance * distance) *
                Math.cos(angle * distance)
            );

            if (distance < mouse.radius) {
                particle.vx -= directionX + rotationForceX;
                particle.vy -= directionY + rotationForceY;
            } else {
                particle.vx += (particle.baseX - particle.x) * config.returnSpeed;
                particle.vy += (particle.baseY - particle.y) * config.returnSpeed;
            }

            particle.x += particle.vx;
            particle.y += particle.vy;
            particle.vx *= config.velocityDamping;
            particle.vy *= config.velocityDamping;

            const speed = Math.sqrt(
                particle.vx * particle.vx + particle.vy * particle.vy
            );
            const hue = (speed * config.colorMultiplier) % 360;

            hues[i] = hue / 360;
            saturations[i] = Math.min(speed * config.saturationMultiplier, 1);
            positions[i * 2] = particle.x;
            positions[i * 2 + 1] = particle.y;
        }
        gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);
        gl.bufferData(gl.ARRAY_BUFFER, positions, gl.DYNAMIC_DRAW);
        gl.bindBuffer(gl.ARRAY_BUFFER, hueBuffer);
        gl.bufferData(gl.ARRAY_BUFFER, hues, gl.DYNAMIC_DRAW);
        gl.bindBuffer(gl.ARRAY_BUFFER, saturationBuffer);
        gl.bufferData(gl.ARRAY_BUFFER, saturations, gl.DYNAMIC_DRAW);
    }

    function animate() {
        updateParticles();

        gl.clear(gl.COLOR_BUFFER_BIT);
        gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);
        gl.vertexAttribPointer(positionAttributeLocation, 2, gl.FLOAT, false, 0, 0);
        gl.enableVertexAttribArray(positionAttributeLocation);
        gl.bindBuffer(gl.ARRAY_BUFFER, hueBuffer);
        gl.vertexAttribPointer(hueAttributeLocation, 1, gl.FLOAT, false, 0, 0);
        gl.enableVertexAttribArray(hueAttributeLocation);
        gl.bindBuffer(gl.ARRAY_BUFFER, saturationBuffer);
        gl.vertexAttribPointer(saturationAttributeLocation, 1, gl.FLOAT, false, 0, 0);
        gl.enableVertexAttribArray(saturationAttributeLocation);
        gl.useProgram(program);
        gl.drawArrays(gl.POINTS, 0, config.particleCount);
        requestAnimationFrame(animate);
    }

    canvas.addEventListener("mousemove", (event) => {
        mouse.x = (event.clientX / canvas.width) * 2 - 1;
        mouse.y = (event.clientY / canvas.height) * -2 + 1;
    });

    canvas.addEventListener("mouseleave", () => {
        mouse.x = -500;
        mouse.y = -500;
    });

    window.addEventListener("resize", () => {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        gl.viewport(0, 0, canvas.width, canvas.height);
        createParticles();
    });

    function changeText() {
        currentTextIndex = (currentTextIndex + 1) % config.textArray.length;
        const newCoordinates = getTextCoordinates(config.textArray[currentTextIndex]);
        for (let i = 0; i < config.particleCount; i++) {
            const randomIndex = Math.floor(Math.random() * newCoordinates.length);
            const { x, y } = newCoordinates[randomIndex];
            particles[i].baseX = x;
            particles[i].baseY = y;
        }
        nextTextTimeout = setTimeout(changeText, config.textChangeInterval);
    }

    gl.clearColor(0, 0, 0, 1);
    createParticles();
    animate();
    nextTextTimeout = setTimeout(changeText, config.textChangeInterval);


</script>